"use strict";const e=require("../common/vendor.js"),t=e=>(e.url=`https://nrbrxwnjkoeh.sealoshzh.site/api/v1${e.url}`,e.header={"Content-Type":"application/json",...e.header},e),o=o=>new Promise(((s,n)=>{e.index.request({...t(o),success:t=>{try{s((t=>{const{data:o}=t;return 200!==o.code?(e.index.showToast({title:o.message||"请求失败",icon:"none"}),Promise.reject(o)):o.data})(t))}catch(o){n(o)}},fail:t=>{e.index.showToast({title:"网络请求失败",icon:"none"}),n(t)}})})),s={get:(e,t={})=>o({url:e,method:"GET",data:t}),post:(e,t={})=>o({url:e,method:"POST",data:t})};exports.request=s;
